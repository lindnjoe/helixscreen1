# clang-format configuration for HelixScreen
# Based on LLVM style with project-specific customizations
---
BasedOnStyle: LLVM

# Indentation
IndentWidth: 4
TabWidth: 4
UseTab: Never
ContinuationIndentWidth: 4

# Braces
BreakBeforeBraces: Attach  # K&R style: same line

# Line length
ColumnLimit: 100

# Pointer and reference alignment
PointerAlignment: Left  # int* ptr (asterisk next to type)
ReferenceAlignment: Left  # int& ref

# Function declarations
AllowShortFunctionsOnASingleLine: Empty  # Only empty functions on one line
AlwaysBreakAfterReturnType: None

# Control statements
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AllowShortCaseLabelsOnASingleLine: false

# Spacing
SpaceAfterCStyleCast: false
SpaceBeforeParens: ControlStatements  # Space after if, for, while
SpaceBeforeAssignmentOperators: true
SpaceInEmptyParentheses: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Includes
SortIncludes: true
IncludeBlocks: Regroup
IncludeCategories:
  # Project headers first
  - Regex:           '^"ui_.*\.h"'
    Priority:        1
  # Other project headers
  - Regex:           '^".*\.h"'
    Priority:        2
  # External library headers
  - Regex:           '^<(lvgl|spdlog|hv|SDL2)/.*>'
    Priority:        3
  # System headers last
  - Regex:           '^<.*>'
    Priority:        4

# Alignment
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false
AlignOperands: true
AlignTrailingComments: true

# Other
KeepEmptyLinesAtTheStartOfBlocks: false
MaxEmptyLinesToKeep: 1
ReflowComments: true
