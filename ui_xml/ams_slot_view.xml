<?xml version="1.0"?>
<!-- Copyright (C) 2025-2026 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<component>
  <!--
    AMS Slot View - Declarative structure for a single AMS filament slot

    This component defines the STATIC STRUCTURE of an AMS slot visualization.
    Dynamic elements (spool canvas, observers, color updates) are created in C++.

    Named children accessible via lv_obj_find_by_name():
    - material_label: text_small showing material type (PLA, PETG, etc.)
    - spool_container: holds the spool visualization (canvas added by C++)
    - status_badge: circular badge at bottom-right for slot number + status color
    - slot_badge_label: text_small inside status_badge showing slot number
    - tool_badge: rounded rect at top-left showing tool assignment (T0, T1)
    - tool_badge_label: text_small inside tool_badge

    Requires C++ backing (ui_ams_slot.cpp) to handle:
    - Creating spool_canvas inside spool_container (3D visualization)
    - Setting up subjects and observers for color/status/current_slot
    - Dynamic styling based on slot state (highlight, opacity)
  -->
  <view name="ams_slot_view"
        extends="lv_obj"
        width="content"
        height="content"
        flex_flow="column"
        style_flex_main_place="start"
        style_flex_cross_place="center"
        style_pad_row="#space_xs"
        style_pad_all="2"
        style_bg_opa="0"
        style_border_width="0"
        clickable="true"
        scrollable="false"
        overflow_visible="true">

    <!-- Material label at top (PLA, PETG, etc.) -->
    <text_small name="material_label"
                text="--"
                style_text_color="#text"
                style_text_letter_space="1"
                clickable="true"
                event_bubble="true"/>

    <!-- Spool container - holds canvas (created in C++) and badges -->
    <!-- Size is set dynamically in C++ based on space_lg token -->
    <lv_obj name="spool_container"
            width="72"
            height="72"
            style_bg_opa="0"
            style_border_width="0"
            style_pad_all="0"
            scrollable="false"
            overflow_visible="true"
            event_bubble="true">

      <!-- Status badge (bottom-right) - shows slot number with status color -->
      <lv_obj name="status_badge"
              width="20"
              height="20"
              align="bottom_right"
              style_translate_x="-2"
              style_translate_y="-2"
              style_radius="10"
              style_bg_color="#ams_badge_bg"
              style_bg_opa="255"
              style_border_width="2"
              style_border_color="#card_bg"
              style_pad_all="0"
              scrollable="false"
              event_bubble="true">
        <!-- Slot number label (1, 2, 3, etc.) -->
        <text_small name="slot_badge_label"
                    text="?"
                    align="center"
                    style_text_color="#text"
                    event_bubble="true"/>
      </lv_obj>

      <!-- Tool badge (top-left) - shows tool assignment (T0, T1), hidden by default -->
      <lv_obj name="tool_badge"
              width="22"
              height="16"
              align="top_left"
              style_translate_x="2"
              style_translate_y="2"
              style_radius="4"
              style_bg_color="#text_muted"
              style_bg_opa="200"
              style_border_width="0"
              style_pad_all="0"
              scrollable="false"
              event_bubble="true"
              hidden="true">
        <!-- Tool number label (T0, T1, etc.) -->
        <text_small name="tool_badge_label"
                    text=""
                    align="center"
                    style_text_color="#text"
                    event_bubble="true"/>
      </lv_obj>

    </lv_obj>
  </view>
</component>
