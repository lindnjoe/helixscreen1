<?xml version="1.0"?>
<!-- Copyright (C) 2025-2026 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<component>
  <view name="power_panel" extends="overlay_panel" title="Power Control" title_tag="Power Control">
    <!-- Content Area -->
    <lv_obj name="overlay_content"
            width="100%" flex_grow="1" style_pad_left="#space_sm" style_pad_right="#space_sm"
            style_pad_top="0" style_pad_bottom="#space_sm" flex_flow="column" style_pad_gap="0"
            scrollable="false">
      <!-- Disable content when printer not connected or klippy not ready -->
      <bind_state_if_not_eq subject="nav_buttons_enabled" state="disabled" ref_value="1"/>
      <!-- Home button device selection chips -->
      <lv_obj name="chip_section" width="100%" height="content" flex_flow="column"
              style_pad_all="0" style_pad_gap="0" scrollable="false">
        <setting_section_header title="MAIN POWER BUTTON" title_tag="MAIN POWER BUTTON" icon="home"
                                style_pad_top="#space_xs" style_pad_bottom="0"/>
        <text_small style_pad_left="#space_lg" style_pad_right="#space_lg"
                    text="Select which devices the home screen power button controls"
                    translation_tag="Select which devices the home screen power button controls"
                    long_mode="wrap" style_text_color="#text_muted"/>
        <lv_obj name="power_chip_container" width="100%" height="content"
                style_pad_left="#space_lg" style_pad_right="#space_lg" style_pad_top="#space_xs"
                style_pad_bottom="#space_sm" flex_flow="row" style_flex_wrap="wrap"
                style_pad_gap="#space_sm" scrollable="false"/>
      </lv_obj>
      <!-- Divider between chip selector and device list -->
      <divider_horizontal width="100%"/>
      <setting_section_header title="ALL DEVICES" title_tag="ALL DEVICES" icon="power_plug"
                              style_pad_top="#space_xs" style_pad_bottom="0"/>
      <!-- Scrollable device list container -->
      <lv_obj name="device_list"
              width="100%" flex_grow="1" style_pad_all="0" scrollable="true" flex_flow="column"
              style_pad_gap="#space_xs"/>
      <!-- Empty state (shown when no devices configured) -->
      <lv_obj name="empty_state"
              width="100%" flex_grow="1" flex_flow="column" style_flex_main_place="center"
              style_flex_cross_place="center" style_pad_gap="#space_md" hidden="true" scrollable="false">
        <icon src="power_plug" size="xl" variant="secondary"/>
        <text_heading text="No Power Devices" translation_tag="No Power Devices" style_text_align="center"/>
        <text_muted text="Configure devices in Moonraker" translation_tag="Configure devices in Moonraker" style_text_align="center"/>
      </lv_obj>
      <!-- Status message at bottom -->
      <text_small name="status_message" width="100%" bind_text="power_status" text="" style_text_align="center"/>
    </lv_obj>
  </view>
</component>
